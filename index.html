<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>a secret you weren’t meant to find.</title>
  <style>
    body {
      background-color: #0d1117;
      color: #c9d1d9;
      font-family: monospace;
      padding: 2em;
      margin: 0;
      line-height: 1.6;
      text-align: left;
      cursor: pointer;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .quote {
      font-size: 1.4em;
      white-space: pre-wrap;
      overflow-wrap: break-word;
    }

    .ascii {
      font-size: 0.48em;
      line-height: 1.1;
      white-space: pre-wrap;
      word-break: break-word;
      text-align: center;
    }

    .ascii-wrapper {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .cursor {
      display: inline-block;
      background-color: #c9d1d9;
      width: 8px;
      height: 1em;
      vertical-align: bottom;
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {
      50% { background-color: transparent; }
    }

    .title-tag {
      position: fixed;
      bottom: 1em;
      right: 1em;
      font-size: 0.95em;
      color: #8b949e;
      font-style: italic;
      text-align: right;
      line-height: 1.4;
      width: max-content;
      pointer-events: none;
    }

    .audio-prompt {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(13, 17, 23, 0.85);
      padding: 0.4em 1em;
      border: 1px solid #444c56;
      border-radius: 4px;
      color: #8b949e;
      font-size: 0.75em;
      text-align: center;
      z-index: 9999;
      pointer-events: none;
      transition: opacity 1s ease;
    }

    .audio-prompt.fade {
      opacity: 0;
    }
  </style>
</head>

<body>
  <div class="quote" id="quote"></div>
  <div class="ascii-wrapper" id="asciiWrapper" style="display: none;">
    <pre class="ascii" id="asciiArt"></pre>
  </div>
  <div class="cursor"></div>

  <div class="title-tag">done, done redeeming unfaithful qualities</div>
  <div class="audio-prompt" id="audioPrompt">click anywhere to unmute</div>

  <audio id="bg-audio" autoplay loop muted playsinline>
    <source src="ambient.mp3" type="audio/mpeg" />
  </audio>

  <script>
    const quotes = [
      "Your smile seasons the food.",
      "We cling to what love remains in us \n— just to feel.",
      "i feel you wanting more—\nto crawl into the hollowness beneath my ribs,\nto echo inside me\nlike I’m echoing inside you.",
      "we talked\nuntil the sun appeared—\neach blink layered\nwith chuckles,\nknowing it’s finally here.",
      "I compliment you\non the tattoo across your lips —\nyou scared your mom would see.",
      "You make it easy to forget how rare this is.",
      "Softly, locking your arms into my heart.",
      "i kiss a line down your belly\nas your legs part like instinct.",
      "ure ticklish on ur palm.",
      "don’t cum just yet."
    ];

    const asciiArtContent = `
<span style="color:red;">L</span>    <span style="color:red;">A</span>
      _    __      ___ __  __  _  
 /  /_|  / _ /  /(_  /__)/__)/_| 
(__(  | (__)(__/(___/ ( / ( (  | 
`;

    const output = document.getElementById("quote");
    const cursor = document.querySelector(".cursor");
    const asciiWrapper = document.getElementById("asciiWrapper");
    const asciiEl = document.getElementById("asciiArt");
    const audio = document.getElementById("bg-audio");
    const prompt = document.getElementById("audioPrompt");

    const seen = localStorage.getItem("ddruq_seen_quote");

    if (seen) {
      if (cursor) cursor.style.display = "none";
      if (output) output.style.display = "none";
      asciiWrapper.style.display = "flex";
      asciiEl.textContent = asciiArtContent;
    } else {
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      localStorage.setItem("ddruq_seen_quote", "true");

      let index = 0;
      function typeWriter() {
        if (index < quote.length) {
          output.innerHTML += quote.charAt(index);
          index++;
          setTimeout(typeWriter, 40);
        }
      }
      typeWriter();
    }

    document.addEventListener("click", () => {
      if (audio.muted) {
        audio.muted = false;
        audio.play().catch(() => {});
      }

      if (prompt) {
        prompt.classList.add("fade");
        prompt.addEventListener("transitionend", () => prompt.remove());
      }
    }, { once: true });
  </script>
</body>
</html>
